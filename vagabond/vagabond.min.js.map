{"version":3,"file":"vagabond.min.js","sources":["../../vagabond/resources/js/vagabond.js","../../vagabond/resources/js/datastructures/matrix.js","../../vagabond/resources/js/datastructures/graph.js","../../vagabond/resources/js/view/view.js","../../vagabond/resources/js/view/logs.js","../../vagabond/resources/js/view/information.js","../../vagabond/resources/js/view/screen.js","../../vagabond/resources/js/algorithms/astar.js","../../vagabond/resources/js/algorithms/cellularautomata.js","../../vagabond/resources/js/algorithms/diamondsquare.js","../../vagabond/resources/js/model/maps/map.js","../../vagabond/resources/js/model/maps/factory.js","../../vagabond/resources/js/model/entities/entity.js","../../vagabond/resources/js/model/entities/killableentity.js","../../vagabond/resources/js/model/entities/movablekillableentity.js","../../vagabond/resources/js/model/entities/monster.js","../../vagabond/resources/js/model/entities/enemies/goblin.js","../../vagabond/resources/js/model/entities/playerentity.js","../../vagabond/resources/js/model/level.js","../../vagabond/resources/js/controller/eventstack.js","../../vagabond/resources/js/controller/keylistener.js","../../vagabond/resources/js/controller/clicklistener.js","../../vagabond/resources/js/controller/controller.js","../../vagabond/resources/js/controller/gameloop.js"],"names":["global","VAGABOND","namespace","i","j","d","a","arguments","o","length","split","this","call","DATA_STRUCTURES","module","Matrix","init","h","w","defaults","grid","height","width","setDefaults","UTIL","extend","initValue","formatValue","value","formatReturn","ret","formatting","OPEN","SEPERATOR","CLOSE","initGrid","initValueFunc","undefined","set","get","x","y","isValidCoordinate","wrappedGet","wrappedCoor","wrapCoor","wrappedSet","clampedGet","clampedCoor","clampCoor","clampedSet","clamp","wrap","clone","Object","create","JSON","parse","stringify","toString","options","comma","Vertex","id","weight","neighbors","entities","Graph","weightMatrix","vertexMatrix","vertices","vertexCount","vertex","k","move","neighbor","VALID_MOVES","push","adjacent","origin","destination","indexOf","WALL_WEIGHT","getEdgeValue","getVertex","Math","min","distance","edgeValue","max","console","log","coordinate","setVertex","VIEW","View","renderToElement","element","viewElement","toElement","innerHTML","Logs","logger","visibleLogSize","offset","getSize","logs","document","createElement","className","logElement","appendChild","Information","entity","selectedEntity","setEntity","info","entityInfo","getInformation","traitKey","traitElement","SCREEN","Screen","originX","originY","clear","dx","dy","isValidMove","level","map","newX","newY","getOrigin","screen","tileElement","formatElement","classList","add","dataset","ALGORITHMS","aStar","graph","startCoor","endCoor","heuristic","cleanVertex","pathWeight","Infinity","getTotal","previousVertex","toMoveArray","previous","unshift","manhattanDistance","dirtyVertices","remaining","found","vertexID","sort","b","pop","cellularAutomata","matrix","rep","nextGenCellReturnFunc","normalize","getNextGenCell","maxCell","counters","ADJACENT","cell","floor","pastMatrix","getNextCell","bind","diamondSquare","scale","diamondSquareStep","step","diamondStep","possibleCoors","getDiamondCoors","computeNewValue","squareStep","getSquareCoors","coor","newValue","validCoorCount","random","halfStep","size","MODEL","MAPS","Map","renderTo","generate","getPossibleMoves","flood","movesLeft","nextCoor","nextMovesLeft","added","movement","FACTORY","createHeightMap","heightMap","type","FLOOR_WEIGHT","createDungeonMap","dungeonMap","ENTITIES","Entity","char","z","actionCounts","main","secondary","minor","takeTurn","replacer","space","getTraits","formatEntity","offsettedX","offsettedY","KillableEntity","hp","totalHp","die","isDead","MovableKillableEntity","isOccupied","entityPool","LOGGER","getLogger","Monster","name","strength","generateUUID","getFullName","fullName","attack","killableEntity","toSentenceElement","ENEMIES","getRandomMove","moves","randomMove","Goblin","aStarWeights","playerCoor","player","currentPosition","takeNextMove","nextMove","nextMoves","shift","PlayerEntity","Level","entityMap","getEntitiesAt","addEntity","args","Array","prototype","apply","setPlayer","sortedEntities","CONTROLLER","EVENT_STACK","singleton","getEventStack","EventStack","setEventStack","eventStack","addEvent","eventBlob","addEventSequence","eventBlobs","getEvent","state","render","VirtualKeys","VIRTUAL_KEYS","KeyListener","codes","VK_LEFT","VK_RIGHT","VK_UP","VK_DOWN","VK_A","VK_D","VK_W","VK_S","VK_NUMPAD8","VK_NUMPAD2","VK_F","VK_SPACE","VK_RETURN","VK_CONTROL","addEventListener","onKey","e","keyCode","preventDefault","stopPropagation","ClickListener","tileMap","setupTileListeners","setupLogListeners","handleClickEvent","useTurn","data","getElementsByClassName","tile","parseInt","tiles","getTile","handleLogs","event","handleClick","avatar","clickCoordinate","colorPossibleMoveTiles","clickListener","possibleMoves","possibleMove","handleMap","nextDimension","MAP_FACTORY","Controller","listener","processInput","screenUp","screenDown","screenLeft","screenRight","charUp","charDown","charLeft","charRight","body","MILLISECONDS_PER_SECOND","GameLoop","timeStep","frameCallback","frame","processCallback","start","setTimeout"],"mappings":"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"}